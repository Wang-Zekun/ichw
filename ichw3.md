## 概论作业3  
### 详述通用的高速缓存存储器结构及工作原理  

- cache的结构：  
> cache主要由三大部分组成：  
(1)、cache存储体：存放由主存调入的指令与数据块。  
(2)、地址转换部件：建立目录表以实现主存地址到缓存地址的转换。  
(3)、替换部件：在缓存已满时按一定策略进行数据块替换，并修改地址转换部件。

<br/><br/>
  
- cache的工作原理：
cache是介于内存和CPU之间的一级存储器，它具有容量小、读取速度较高的特点。cache主要解决的是CPU运算速度极快而存储量小，但是内存以及磁盘、光驱等存储器读写速度慢而存储量大，造成读写和运算速度不匹配而浪费CPU资源的问题。  
<br/>
cache的工作流程是：   

a)将一部分常用数据存储在cache的存储单元(1)中  
b)CPU访问cache的存储单元  
c)检索需要的内容，若存储单元中有想要的内容则继续；若无，则到内存中复制需要的数据块覆盖已有内存，再重复(c)  
d)CPU读写数据  

这样一来运算效率得到大大提高。实际应用中还会用到多级缓存（一般而言两级足够），第一级缓存靠近CPU，内存小，运算速度更快，功能单一；第二级缓存靠近内存，运算速度相对稍慢，可以为多个第一级缓存提供数据。  
<br/><br/>
- 实际使用中，cache为了保证使用的数据精准，避免无用的存储，会有特定的存储算法和替换算法，来使效率最大化。  
<br/>
CPU在cache中找到有用的数据被称为命中，当cache中没有CPU所需的数据时（这时称为未命中），CPU才访问内存。  

<br/>

cache存储数据的一种较常用的算法是LRU算法，它每行设置一个计数器，每次把命中行的计数器清零，其他各行计数器加1。需要替数据时替换数字最大的，即将最不常用的覆盖掉。  

<br/>

其他的算法如下：

>（1）随机法（RAND法） 随机替换算法就是用随机数发生器产生一个要替换的块号，将该块替换出去，此算法简单、易于实现，而且它不考虑Cache块过去、现在及将来的使用情况，但是没有利用上层存储器使用的“历史信息”、没有根据访存的局部性原理，故不能提高Cache的命中率，命中率较低。  
（2）先进先出法（FIFO法） 先进先出（First-In-First-Out，FIFO）算法。就是将最先进入Cache的信息块替换出去。FIFO算法按调入Cache的先后决定淘汰的顺序，选择最早调入Cache的字块进行替换，它不需要记录各字块的使用情况，比较容易实现，系统开销小，其缺点是可能会把一些需要经常使用的程序块（如循环程序）也作为最早进入Cache的块替换掉，而且没有根据访存的局部性原理，故不能提高Cache的命中率。因为最早调入的信息可能以后还要用到，或者经常要用到，如循环程序。此法简单、方便，利用了主存的“历史信息”， 但并不能说最先进入的就不经常使用，其缺点是不能正确反映程序局部性原理，命中率不高，可能出现一种异常现象。
